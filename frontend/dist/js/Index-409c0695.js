import{_ as le}from"./_plugin-vue_export-helper-383fd9f4.js";/* empty css               *//* empty css                             *//* empty css                       *//* empty css                 *//* empty css                  *//* empty css               *//* empty css                  *//* empty css                    *//* empty css                  *//* empty css                  *//* empty css                        *//* empty css                *//* empty css                     */import"./el-tooltip-4ed993c7.js";import{r as S,b as U,o as te,c as k,d as ae,f as e,w as t,a6 as ne,N as C,e as s,ai as I,aR as q,j as o,z as M,A as B,t as v,k as i,Q as oe,R as se,U as ue,a5 as de,a7 as re,l as ie,m as me,aj as pe,aB as _e,E as fe,h as be,q as ve,aS as ce,n as ye,p as ge,ay as Ve,an as xe,ao as ke,aT as we,aU as Ee,aV as Se,at as Ue,af as Ce}from"./index-edaa0abb.js";const Ie={class:"settings-index"},qe={style:{"margin-top":"20px"}},Me={__name:"Index",setup(Be){const H=S(),c=S("basic"),d=S(!1),T=S(!1),P=S(!1),m=U({system_name:"实验室管理系统",system_description:"高效的实验室资源管理平台",default_reservation_duration:2,advance_booking_hours:24,auto_approval:!1}),u=U({email_enabled:!0,smtp_server:"smtp.example.com",smtp_port:587,reservation_reminder:!0,maintenance_reminder:!0}),r=U({min_password_length:8,password_requirements:["lowercase","numbers"],session_timeout:120,login_lock_enabled:!0,max_login_attempts:5}),p=U({auto_backup_enabled:!0,backup_frequency:"daily",backup_time:"02:00",backup_retention_count:7}),f=U({version:"1.0.0",database_version:"MySQL 8.0.25",uptime:"15天 8小时 32分钟",cpu_usage:25.6,memory_usage:68.3,disk_usage:45.2,last_backup_time:"2024-01-15 02:00:00",online_users:12}),G={system_name:[{required:!0,message:"请输入系统名称",trigger:"blur"}],default_reservation_duration:[{required:!0,message:"请输入默认预约时长",trigger:"blur"}],advance_booking_hours:[{required:!0,message:"请输入预约提前时间",trigger:"blur"}]},Q=_=>{c.value=_},z=async()=>{try{await H.value.validate(),d.value=!0,i.success("基本设置保存成功")}catch(_){_!==!1&&i.error("保存失败，请重试")}finally{d.value=!1}},A=async()=>{try{d.value=!0,i.success("通知设置保存成功")}catch{i.error("保存失败，请重试")}finally{d.value=!1}},L=async()=>{try{d.value=!0,i.success("安全设置保存成功")}catch{i.error("保存失败，请重试")}finally{d.value=!1}},O=async()=>{try{d.value=!0,i.success("备份设置保存成功")}catch{i.error("保存失败，请重试")}finally{d.value=!1}},J=async()=>{try{T.value=!0,i.success("备份创建成功")}catch{i.error("备份失败，请重试")}finally{T.value=!1}},K=async()=>{try{P.value=!0,i.success("系统信息已刷新")}catch{i.error("刷新失败，请重试")}finally{P.value=!1}},W=async()=>{};return te(()=>{W()}),(_,l)=>{const w=oe,E=se,X=ue,g=de,j=re,D=ie,n=me,y=pe,V=_e,x=fe,N=be,R=ve,Y=ce,F=ye,Z=ge,$=Ve,b=xe,h=ke,ee=ne;return k(),ae("div",Ie,[e(ee,{gutter:20},{default:t(()=>[e(j,{span:6},{default:t(()=>[e(g,{class:"settings-menu"},{default:t(()=>[e(X,{"default-active":c.value,onSelect:Q,class:"settings-menu-list"},{default:t(()=>[e(E,{index:"basic"},{default:t(()=>[e(w,null,{default:t(()=>[e(C(we))]),_:1}),l[19]||(l[19]=s("span",null,"基本设置",-1))]),_:1}),e(E,{index:"notification"},{default:t(()=>[e(w,null,{default:t(()=>[e(C(Ee))]),_:1}),l[20]||(l[20]=s("span",null,"通知设置",-1))]),_:1}),e(E,{index:"security"},{default:t(()=>[e(w,null,{default:t(()=>[e(C(Se))]),_:1}),l[21]||(l[21]=s("span",null,"安全设置",-1))]),_:1}),e(E,{index:"backup"},{default:t(()=>[e(w,null,{default:t(()=>[e(C(Ue))]),_:1}),l[22]||(l[22]=s("span",null,"备份设置",-1))]),_:1}),e(E,{index:"system"},{default:t(()=>[e(w,null,{default:t(()=>[e(C(Ce))]),_:1}),l[23]||(l[23]=s("span",null,"系统信息",-1))]),_:1})]),_:1},8,["default-active"])]),_:1})]),_:1}),e(j,{span:18},{default:t(()=>[I(e(g,{class:"settings-content"},{header:t(()=>[...l[24]||(l[24]=[s("span",null,"基本设置",-1)])]),default:t(()=>[e(N,{ref_key:"basicFormRef",ref:H,model:m,rules:G,"label-width":"150px"},{default:t(()=>[e(n,{label:"系统名称",prop:"system_name"},{default:t(()=>[e(D,{modelValue:m.system_name,"onUpdate:modelValue":l[0]||(l[0]=a=>m.system_name=a),placeholder:"请输入系统名称",maxlength:"100"},null,8,["modelValue"])]),_:1}),e(n,{label:"系统描述",prop:"system_description"},{default:t(()=>[e(D,{modelValue:m.system_description,"onUpdate:modelValue":l[1]||(l[1]=a=>m.system_description=a),type:"textarea",rows:3,placeholder:"请输入系统描述",maxlength:"500"},null,8,["modelValue"])]),_:1}),e(n,{label:"默认预约时长",prop:"default_reservation_duration"},{default:t(()=>[e(y,{modelValue:m.default_reservation_duration,"onUpdate:modelValue":l[2]||(l[2]=a=>m.default_reservation_duration=a),min:1,max:24,style:{width:"200px"}},null,8,["modelValue"]),l[25]||(l[25]=s("span",{style:{"margin-left":"10px"}},"小时",-1))]),_:1}),e(n,{label:"预约提前时间",prop:"advance_booking_hours"},{default:t(()=>[e(y,{modelValue:m.advance_booking_hours,"onUpdate:modelValue":l[3]||(l[3]=a=>m.advance_booking_hours=a),min:1,max:168,style:{width:"200px"}},null,8,["modelValue"]),l[26]||(l[26]=s("span",{style:{"margin-left":"10px"}},"小时",-1))]),_:1}),e(n,{label:"自动审批",prop:"auto_approval"},{default:t(()=>[e(V,{modelValue:m.auto_approval,"onUpdate:modelValue":l[4]||(l[4]=a=>m.auto_approval=a),"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])]),_:1}),e(n,null,{default:t(()=>[e(x,{type:"primary",onClick:z,loading:d.value},{default:t(()=>[...l[27]||(l[27]=[o(" 保存设置 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1},512),[[q,c.value==="basic"]]),I(e(g,{class:"settings-content"},{header:t(()=>[...l[28]||(l[28]=[s("span",null,"通知设置",-1)])]),default:t(()=>[e(N,{model:u,"label-width":"150px"},{default:t(()=>[e(n,{label:"邮件通知"},{default:t(()=>[e(V,{modelValue:u.email_enabled,"onUpdate:modelValue":l[5]||(l[5]=a=>u.email_enabled=a),"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])]),_:1}),u.email_enabled?(k(),M(n,{key:0,label:"SMTP服务器"},{default:t(()=>[e(D,{modelValue:u.smtp_server,"onUpdate:modelValue":l[6]||(l[6]=a=>u.smtp_server=a),placeholder:"请输入SMTP服务器地址"},null,8,["modelValue"])]),_:1})):B("",!0),u.email_enabled?(k(),M(n,{key:1,label:"SMTP端口"},{default:t(()=>[e(y,{modelValue:u.smtp_port,"onUpdate:modelValue":l[7]||(l[7]=a=>u.smtp_port=a),min:1,max:65535,style:{width:"200px"}},null,8,["modelValue"])]),_:1})):B("",!0),e(n,{label:"预约提醒"},{default:t(()=>[e(V,{modelValue:u.reservation_reminder,"onUpdate:modelValue":l[8]||(l[8]=a=>u.reservation_reminder=a),"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])]),_:1}),e(n,{label:"设备维护提醒"},{default:t(()=>[e(V,{modelValue:u.maintenance_reminder,"onUpdate:modelValue":l[9]||(l[9]=a=>u.maintenance_reminder=a),"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])]),_:1}),e(n,null,{default:t(()=>[e(x,{type:"primary",onClick:A,loading:d.value},{default:t(()=>[...l[29]||(l[29]=[o(" 保存设置 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1},512),[[q,c.value==="notification"]]),I(e(g,{class:"settings-content"},{header:t(()=>[...l[30]||(l[30]=[s("span",null,"安全设置",-1)])]),default:t(()=>[e(N,{model:r,"label-width":"150px"},{default:t(()=>[e(n,{label:"密码最小长度"},{default:t(()=>[e(y,{modelValue:r.min_password_length,"onUpdate:modelValue":l[10]||(l[10]=a=>r.min_password_length=a),min:6,max:20,style:{width:"200px"}},null,8,["modelValue"])]),_:1}),e(n,{label:"密码复杂度"},{default:t(()=>[e(Y,{modelValue:r.password_requirements,"onUpdate:modelValue":l[11]||(l[11]=a=>r.password_requirements=a)},{default:t(()=>[e(R,{label:"uppercase"},{default:t(()=>[...l[31]||(l[31]=[o("包含大写字母",-1)])]),_:1}),e(R,{label:"lowercase"},{default:t(()=>[...l[32]||(l[32]=[o("包含小写字母",-1)])]),_:1}),e(R,{label:"numbers"},{default:t(()=>[...l[33]||(l[33]=[o("包含数字",-1)])]),_:1}),e(R,{label:"symbols"},{default:t(()=>[...l[34]||(l[34]=[o("包含特殊字符",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"会话超时时间"},{default:t(()=>[e(y,{modelValue:r.session_timeout,"onUpdate:modelValue":l[12]||(l[12]=a=>r.session_timeout=a),min:30,max:1440,style:{width:"200px"}},null,8,["modelValue"]),l[35]||(l[35]=s("span",{style:{"margin-left":"10px"}},"分钟",-1))]),_:1}),e(n,{label:"登录失败锁定"},{default:t(()=>[e(V,{modelValue:r.login_lock_enabled,"onUpdate:modelValue":l[13]||(l[13]=a=>r.login_lock_enabled=a),"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])]),_:1}),r.login_lock_enabled?(k(),M(n,{key:0,label:"最大失败次数"},{default:t(()=>[e(y,{modelValue:r.max_login_attempts,"onUpdate:modelValue":l[14]||(l[14]=a=>r.max_login_attempts=a),min:3,max:10,style:{width:"200px"}},null,8,["modelValue"])]),_:1})):B("",!0),e(n,null,{default:t(()=>[e(x,{type:"primary",onClick:L,loading:d.value},{default:t(()=>[...l[36]||(l[36]=[o(" 保存设置 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1},512),[[q,c.value==="security"]]),I(e(g,{class:"settings-content"},{header:t(()=>[...l[37]||(l[37]=[s("span",null,"备份设置",-1)])]),default:t(()=>[e(N,{model:p,"label-width":"150px"},{default:t(()=>[e(n,{label:"自动备份"},{default:t(()=>[e(V,{modelValue:p.auto_backup_enabled,"onUpdate:modelValue":l[15]||(l[15]=a=>p.auto_backup_enabled=a),"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])]),_:1}),p.auto_backup_enabled?(k(),M(n,{key:0,label:"备份频率"},{default:t(()=>[e(Z,{modelValue:p.backup_frequency,"onUpdate:modelValue":l[16]||(l[16]=a=>p.backup_frequency=a)},{default:t(()=>[e(F,{label:"每日",value:"daily"}),e(F,{label:"每周",value:"weekly"}),e(F,{label:"每月",value:"monthly"})]),_:1},8,["modelValue"])]),_:1})):B("",!0),p.auto_backup_enabled?(k(),M(n,{key:1,label:"备份时间"},{default:t(()=>[e($,{modelValue:p.backup_time,"onUpdate:modelValue":l[17]||(l[17]=a=>p.backup_time=a),format:"HH:mm","value-format":"HH:mm",placeholder:"选择备份时间"},null,8,["modelValue"])]),_:1})):B("",!0),e(n,{label:"保留备份数量"},{default:t(()=>[e(y,{modelValue:p.backup_retention_count,"onUpdate:modelValue":l[18]||(l[18]=a=>p.backup_retention_count=a),min:1,max:30,style:{width:"200px"}},null,8,["modelValue"])]),_:1}),e(n,null,{default:t(()=>[e(x,{type:"primary",onClick:O,loading:d.value},{default:t(()=>[...l[38]||(l[38]=[o(" 保存设置 ",-1)])]),_:1},8,["loading"]),e(x,{type:"success",onClick:J,loading:T.value},{default:t(()=>[...l[39]||(l[39]=[o(" 立即备份 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1},512),[[q,c.value==="backup"]]),I(e(g,{class:"settings-content"},{header:t(()=>[...l[40]||(l[40]=[s("span",null,"系统信息",-1)])]),default:t(()=>[e(h,{column:2,border:""},{default:t(()=>[e(b,{label:"系统版本"},{default:t(()=>[o(v(f.version),1)]),_:1}),e(b,{label:"数据库版本"},{default:t(()=>[o(v(f.database_version),1)]),_:1}),e(b,{label:"运行时间"},{default:t(()=>[o(v(f.uptime),1)]),_:1}),e(b,{label:"CPU使用率"},{default:t(()=>[o(v(f.cpu_usage)+"% ",1)]),_:1}),e(b,{label:"内存使用率"},{default:t(()=>[o(v(f.memory_usage)+"% ",1)]),_:1}),e(b,{label:"磁盘使用率"},{default:t(()=>[o(v(f.disk_usage)+"% ",1)]),_:1}),e(b,{label:"最后备份时间"},{default:t(()=>[o(v(f.last_backup_time),1)]),_:1}),e(b,{label:"在线用户数"},{default:t(()=>[o(v(f.online_users),1)]),_:1})]),_:1}),s("div",qe,[e(x,{onClick:K,loading:P.value},{default:t(()=>[...l[41]||(l[41]=[o(" 刷新信息 ",-1)])]),_:1},8,["loading"])])]),_:1},512),[[q,c.value==="system"]])]),_:1})]),_:1})])}}},We=le(Me,[["__scopeId","data-v-59f767c3"]]);export{We as default};
