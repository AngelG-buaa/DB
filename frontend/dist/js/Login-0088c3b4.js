import{_ as q}from"./_plugin-vue_export-helper-383fd9f4.js";/* empty css                 *//* empty css                  *//* empty css                *//* empty css                    *//* empty css               *//* empty css                  *//* empty css                  */import{u as z,a as T,r as b,b as F,o as M,c as R,d as U,e as l,f as s,w as o,g as S,E as B,h as A,i as D,j as r,t as I,k as N,l as $,m as K,n as j,p as O,q as P,s as G}from"./index-edaa0abb.js";import{_ as H}from"./logo-a60c622a.js";const J={class:"login-container"},Q={class:"login-box"},W={class:"form-options"},X={class:"register-link"},Y={class:"quick-login"},Z={class:"demo-accounts"},h={__name:"Login",setup(ee){const p=z(),v=T(),g=b(),d=b(!1),t=F({username:"",password:"",userType:"student",rememberMe:!1}),w={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度在 3 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"密码长度在 6 到 20 个字符",trigger:"blur"}],userType:[{required:!0,message:"请选择用户类型",trigger:"change"}]},c=async()=>{if(!d.value&&(d.value=!0,!!g.value))try{await g.value.validate(),await v.login(t),p.push("/")}catch(u){console.error("登录失败:",u)}finally{d.value=!1}},_=u=>{const a={admin:{username:"admin",password:"admin123"},teacher:{username:"teacher",password:"teacher123"},student:{username:"student",password:"student123"}}[u];a&&(t.username=a.username,t.password=a.password,t.userType=u,c())},k=()=>{N.info("请联系管理员重置密码")},V=()=>{p.push("/register")};return M(()=>{v.isAuthenticated&&p.push("/")}),(u,e)=>{const a=$,i=K,f=j,x=O,E=P,y=G,m=B,L=A,C=D;return R(),U("div",J,[l("div",Q,[e[15]||(e[15]=l("div",{class:"login-header"},[l("img",{src:H,alt:"Logo",class:"logo"}),l("h1",{class:"title"},"高校实验室预约与设备管理系统"),l("p",{class:"subtitle"},"Laboratory Reservation & Equipment Management System")],-1)),s(L,{ref_key:"loginFormRef",ref:g,model:t,rules:w,class:"login-form",onKeyup:S(c,["enter"])},{default:o(()=>[s(i,{prop:"username"},{default:o(()=>[s(a,{modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=n=>t.username=n),placeholder:"请输入用户名",size:"large","prefix-icon":"User",clearable:""},null,8,["modelValue"])]),_:1}),s(i,{prop:"password"},{default:o(()=>[s(a,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=n=>t.password=n),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":"Lock","show-password":"",clearable:""},null,8,["modelValue"])]),_:1}),s(i,{prop:"userType"},{default:o(()=>[s(x,{modelValue:t.userType,"onUpdate:modelValue":e[2]||(e[2]=n=>t.userType=n),placeholder:"请选择用户类型",size:"large",style:{width:"100%"}},{default:o(()=>[s(f,{label:"学生",value:"student"}),s(f,{label:"教师",value:"teacher"}),s(f,{label:"管理员",value:"admin"})]),_:1},8,["modelValue"])]),_:1}),s(i,null,{default:o(()=>[l("div",W,[s(E,{modelValue:t.rememberMe,"onUpdate:modelValue":e[3]||(e[3]=n=>t.rememberMe=n)},{default:o(()=>[...e[7]||(e[7]=[r("记住我",-1)])]),_:1},8,["modelValue"]),s(y,{type:"primary",onClick:k},{default:o(()=>[...e[8]||(e[8]=[r("忘记密码？",-1)])]),_:1})])]),_:1}),s(i,null,{default:o(()=>[s(m,{type:"primary",size:"large",loading:d.value,onClick:c,class:"login-btn"},{default:o(()=>[r(I(d.value?"登录中...":"登录"),1)]),_:1},8,["loading"])]),_:1}),s(i,null,{default:o(()=>[l("div",X,[e[10]||(e[10]=r(" 还没有账号？ ",-1)),s(y,{type:"primary",onClick:V},{default:o(()=>[...e[9]||(e[9]=[r("立即注册",-1)])]),_:1})])]),_:1})]),_:1},8,["model"]),l("div",Y,[s(C,null,{default:o(()=>[...e[11]||(e[11]=[r("快速体验",-1)])]),_:1}),l("div",Z,[s(m,{type:"info",plain:"",size:"small",onClick:e[4]||(e[4]=n=>_("admin"))},{default:o(()=>[...e[12]||(e[12]=[r(" 管理员登录 ",-1)])]),_:1}),s(m,{type:"success",plain:"",size:"small",onClick:e[5]||(e[5]=n=>_("teacher"))},{default:o(()=>[...e[13]||(e[13]=[r(" 教师登录 ",-1)])]),_:1}),s(m,{type:"warning",plain:"",size:"small",onClick:e[6]||(e[6]=n=>_("student"))},{default:o(()=>[...e[14]||(e[14]=[r(" 学生登录 ",-1)])]),_:1})])])]),e[16]||(e[16]=l("div",{class:"background-decoration"},[l("div",{class:"decoration-item item-1"}),l("div",{class:"decoration-item item-2"}),l("div",{class:"decoration-item item-3"})],-1))])}}},me=q(h,[["__scopeId","data-v-6772f916"]]);export{me as default};
